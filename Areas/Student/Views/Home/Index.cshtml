@{
    ViewData["Title"] = "Index";
    Layout = "~/Areas/Student/Views/Shared/_Layout.cshtml";
}

<div class="dash-wrap">
    <!-- Top bar -->
    <div class="dash-topbar">
        <div class="dash-title">
            <h2>Chào mừng bạn trở lại!</h2>
            <p class="muted">Hãy cùng nhau tiếp tục hành trình phát triển Ngoại ngữ.</p>
        </div>
        <div class="dash-actions">
            <a asp-controller="Courses" asp-action="Index" class="btnx">Vào học</a>
        </div>
    </div>

    <div class="dash-grid py-1">

        <!-- Column 1: Course Progress + Daily Goal + Words Learned -->
        <div class="cardx">

            <div class="d-flex mb-1" style="display:flex; align-items:flex-start; justify-content:space-between; gap:12px;">
                <div>
                    <h5>Quá trình học tập</h5>
                </div>
                <span class="tag">Trình độ: English A2</span>
            </div>
            <hr />
            <div class="progress-list">
                <div class="progress-row">
                    <div style="min-width:150px; font-weight:700;">Mốc</div>
                    <div class="bar"><span style="width:45%"></span></div>
                    <div class="muted" style="min-width:60px; text-align:right;">45%</div>
                </div>
                <div class="progress-row">
                    <div style="min-width:150px; font-weight:700;">Tiến độ học tập</div>
                    <div class="bar"><span style="width:70%"></span></div>
                    <div class="muted" style="min-width:60px; text-align:right;">70%</div>
                </div>
                <div class="progress-row">
                    <div style="min-width:150px; font-weight:700;">Buổi học</div>
                    <div class="bar"><span style="width:30%"></span></div>
                    <div class="muted" style="min-width:60px; text-align:right;">3/10</div>
                </div>
            </div>
            <hr />
            <div class="split">

                <!-- Daily Goal -->
                <div class="cardx" style="border-radius:12px; padding:14px; box-shadow:none;">
                    <h5>Daily Goal</h5>
                    <div class="goal-grid">
                        <div class="goal-line">
                            <span class="muted">Điểm tích lũy</span>
                            <strong>23 / 50</strong>
                        </div>
                        <div class="bar"><span style="width:46%"></span></div>

                        <div class="goal-line" style="margin-top:6px;">
                            <span class="muted">Chuỗi</span>
                            <strong>7 ngày</strong>
                        </div>
                        <div class="muted fw-semibold" style="margin-top:8px;">Hãy tiếp tục hoàn thiện bài tập và duy trì chuỗi!</div>

                        <a asp-controller="Assignment" asp-action="Index" class="btnx primary" style="width:100%; margin-top:6px;">Đạt mục tiêu hôm nay</a>
                    </div>
                </div>

                <!-- Words Learned Chart (placeholder) -->
                <div class="cardx" style="border-radius:12px; padding:14px; box-shadow:none;">
                    <div style="display:flex; align-items:center; justify-content:space-between; gap:10px;">
                        <h5 style="margin:0;">Vốn từ vựng</h5>
                        <span class="tag">Tuần này</span>
                    </div>
                    <div class="chart-box" style="margin-top:10px;">
                        <span class="fw-semibold fst-italic" style="font-size:xx-large">[ Limerance ]</span>
                    </div>
                    <div class="muted" style="margin-top:8px;">Xu hướng: ổn định. Cố gắng duy trì trước các câu khó.</div>
                </div>

            </div>
        </div>

        <!-- Column 2: League / Leaderboard -->
        <div class="cardx">
            <div style="display:flex; align-items:flex-start; justify-content:space-between; gap:12px;">
                <div>
                    <h5>Hạng Bạc</h5>
                    <div class="muted">Tích cực thi đua và cạnh tranh.</div>
                </div>
                <span class="tag">Kết thúc vào: CN</span>
            </div>

            <div class="league-list">
                <div class="league-item">
                    <div class="league-left">
                        <div class="rank">1</div>
                        <span class="avatar"></span>
                        <div>
                            <div style="font-weight:800;">Clara Diaz</div>
                            <div class="muted">1,240 XP</div>
                        </div>
                    </div>
                    <span class="tag">↑</span>
                </div>

                <div class="league-item">
                    <div class="league-left">
                        <div class="rank">2</div>
                        <span class="avatar"></span>
                        <div>
                            <div style="font-weight:800;">Tôi</div>
                            <div class="muted">980 XP</div>
                        </div>
                    </div>
                    <span class="tag">—</span>
                </div>

                <div class="league-item">
                    <div class="league-left">
                        <div class="rank">3</div>
                        <span class="avatar"></span>
                        <div>
                            <div style="font-weight:800;">Mina Tran</div>
                            <div class="muted">910 XP</div>
                        </div>
                    </div>
                    <span class="tag">↓</span>
                </div>

                <div class="league-item">
                    <div class="league-left">
                        <div class="rank">4</div>
                        <span class="avatar"></span>
                        <div>
                            <div style="font-weight:800;">Zane G.</div>
                            <div class="muted">860 XP</div>
                        </div>
                    </div>
                </div>

                <button class="btnx" style="width:100%; margin-top:4px;">Hiển thị bảng xếp hạng</button>
            </div>
        </div>

        <!-- Column 3: Profile + Next Achievement + Friends -->
        <div class="cardx">
            <div class="profile">
                <div class="profile-main">
                    <span class="avatar"></span>
                    <div>
                        <div style="font-weight:900; font-size:1.05rem;">Học viên</div>
                        <div class="muted">XP: 2,681 • Bậc: A2</div>
                    </div>
                </div>
                <button class="btnx">Tài khoản</button>
            </div>

            <div class="pillrow">
                <div class="pill">🔥 Chuỗi: 7</div>
                <div class="pill">🏆 Hạng: Silver</div>
            </div>

            <hr style="border:none; border-top:1px solid rgba(0,0,0,.08); margin:14px 0;">

            <div>
                <h5 style="margin-bottom:6px;">Thành tích kế tiếp</h5>
                <div class="muted">Hoàn thành hoàn hảo 3 bài tập.</div>
                <div class="bar" style="margin-top:10px;"><span style="width:33%"></span></div>
                <div class="muted" style="margin-top:6px;">Quá trình: 1 / 3</div>
                <button class="btnx primary" style="width:100%; margin-top:10px;">Tiến hành chinh phục thành tích</button>
            </div>

            <hr style="border:none; border-top:1px solid rgba(0,0,0,.08); margin:14px 0;">

            <div>
                <div style="display:flex; align-items:center; justify-content:space-between; gap:10px;">
                    <h5 style="margin:0;">Bạn bè</h5>
                    <span class="tag">3 online</span>
                </div>

                <div class="friends">
                    <div class="friend">
                        <div class="friend-left">
                            <span class="avatar"></span>
                            <div>
                                <div style="font-weight:800;">An Luu</div>
                                <div class="muted">+20 XP</div>
                            </div>
                        </div>
                        <button class="btnx">Nudge</button>
                    </div>

                    <div class="friend">
                        <div class="friend-left">
                            <span class="avatar"></span>
                            <div>
                                <div style="font-weight:800;">Gary Carter</div>
                                <div class="muted">Chuỗi: 12</div>
                            </div>
                        </div>
                        <button class="btnx">Message</button>
                    </div>

                    <div class="friend">
                        <div class="friend-left">
                            <span class="avatar"></span>
                            <div>
                                <div style="font-weight:800;">Mina Tran</div>
                                <div class="muted">Đối thủ</div>
                            </div>
                        </div>
                        <button class="btnx">Thách đấu!</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>